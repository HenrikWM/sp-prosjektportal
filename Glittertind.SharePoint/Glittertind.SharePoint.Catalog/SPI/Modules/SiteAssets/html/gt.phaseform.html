<script type="text/javascript" src="../../../SiteAssets/gt/js/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../../../SiteAssets/gt/js/gt.generics.js"></script>
<script type="text/javascript" src="../../../SiteAssets/gt/js/gt.project.js"></script>

<style type="text/css">
    #gtchecklist {
    }

        #gtchecklist li {
            list-style: none;
        }

        #gtchecklist .gt-icon {
            width: 25px;
            height: 25px;
            display: inline-block;
            border: 1px dashed;
        }

            #gtchecklist .gt-icon.gt-completed {
                background-color: green;
            }

            #gtchecklist .gt-icon.gt-failed {
                background-color: red;
            }

            #gtchecklist .gt-icon.gt-nostatus {
                background-color: gray;
            }
</style>

<script type="text/javascript" language="javascript">
    (function () {
        var jQuery = GT.jQuery;

        jQuery(document).ready(function () {
            var editMode = getParameterByName('EditMode');
            if (editMode != '' && editMode != undefined) {
                if (editMode == "Project") {
                    // Jesus chist :D Hiding the "Open this web part page"-text
                    jQuery('#onetIDListForm .ms-webpart-chrome.ms-webpart-chrome-vertical.ms-webpart-chrome-fullWidth > div > table > tbody > tr > td> table:nth-child(2)').hide();
                    //Hide content type picker and name and title field (as it's applicable for the page, not the web
                    jQuery('#onetIDListForm input[id^="FileLeafRef"]').closest('tr').hide();
                    jQuery('#onetIDListForm select[title="Innholdstype"]').closest('tr').hide();
                    jQuery('#onetIDListForm input[title="Tittel"]').closest('tr').hide();
                }
                else if (editMode == "PhaseOnly") {
                    // Jesus chist :D Hiding the "Open this web part page"-text
                    jQuery('#onetIDListForm .ms-webpart-chrome.ms-webpart-chrome-vertical.ms-webpart-chrome-fullWidth > div > table > tbody > tr > td> table:nth-child(2)').hide();
                    // Hide all rows but the phase picker
                    jQuery('#onetIDListForm table.ms-formtable > tbody > tr').hide();
                    jQuery('#onetIDListForm div[id^="GtProjectPhase"]').closest('tr').show();
                }
                GT.Project.PhaseForm.CheckList.render();
            }
        });
    })();
</script>